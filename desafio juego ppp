#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main()
{
    srand(time(NULL));
    int piedra = 1;
    int papel = 2;
    int tijera = 3;
    int jugador;
    int computadora;
    int rondasm = 0;
    int rondasj = 0;
    int partidasm = 0;
    int partidasj = 0;
    
    printf("elige piedra(1), papel(2) o tijeras(3)\n");
    //for(rondas = 0; rondas < 5; rondas++)
    while(rondasm < 3 && rondasj < 3){                  
             while(partidasm < 2 && partidasj < 2){
                  computadora = 1 + rand() % 3;
                  printf("elige una opcion posible: ");
                  scanf("%d", &jugador);
                  if(jugador == 1 && computadora == 3){
                      printf("jugador gano la partida\n\n");
                      partidasj = partidasj + 1;
                  }
                  else if(jugador == 2 && computadora == 1){
                      printf("jugador gano la partida\n\n");
                      partidasj = partidasj + 1;
                  }
                  else if(jugador == 3 && computadora == 2){
                      printf("jugador gano la partida\n\n");
                      partidasj = partidasj + 1;
                  }
                  else if(jugador == 3 && computadora == 1){
                      printf("la maquina gano la partida\n\n");
                      partidasm = partidasm + 1;
                  }
                  else if(jugador == 1 && computadora == 2){
                      printf("la maquina gano la partida\n\n");
                      partidasm = partidasm + 1;
                  }
                  else if(jugador == 2 && computadora == 3){
                      printf("la maquina gano la partida\n\n");
                      partidasm = partidasm + 1;
                  }
                  else if(jugador == computadora){
                      printf("la partida es empate\n\n");
                  }
             }
             if(partidasm == 2){
                 rondasm = rondasm + 1;
                 partidasj = 0;
                 partidasm = 0;
                 printf("la maquina gano %d rondas\n\n", rondasm);
             }
             else if(partidasj == 2){
                 rondasj = rondasj + 1;
                 partidasj = 0;
                 partidasm = 0;
                 printf("el jugador gano %d ronda\n\n", rondasj);
             }
             if(rondasm == 3){
                 printf("el ganador es la maquina\n");
             }
             else if(rondasj == 3){
                 printf("el ganador es el jugador\n");
             }
    }
}
